# Elasticsearch

## Types
> Strings (fulltext, keywords)
---
> Numeric - Этот тип данных используется для хранения числовых значений, таких как целые числа, числа с плавающей запятой и двойные числа, например. 1 и 1,5. Числовой тип данных поддерживает следующие числовые типы.
  1) long (64-битное целое число со знаком)
  2) целое число (32-битное целое число со знаком)
  3) короткий (16-битное целое число со знаком)
  4) байт (8-битное целое число со знаком)
  5) double (64-битная с плавающей запятой двойной точности)
  6) float (32-разрядная плавающая точка одинарной точности)
---
> Даты – Форматы - могут быть строкой, содержащей отформатированные даты (например, 2022-06-01 или 2022/06/01 15:00:00), целым числом, представляющим секунды с начала эпохи, или длинным числом, представляющим миллисекунды с начала эпохи.
---
> Логический - true|false.
---
> Бинарный - данные будут храниться в виде строки в кодировке Base64 и не будут доступны для поиска.
---
> Объект
---
> Массив - не имеет такого типа данных. Это связано с тем, что любое поле может содержать ни одного, одно или более значений по умолчанию, без явного определения. Это означает, что, просто передав массив значений в поле, Elasticsearch автоматически сохранит эти значения, даже для поля, которое, например, было отображено как строка
---
> Вложенный - Используйте этот тип данных, когда вам нужно индексировать массивы объектов и поддерживать независимость каждого объекта. В этом случае значения для всех объектов не будут смешиваться, как в примере выше. Внутри каждый объект в массиве индексируется как отдельный скрытый документ. В результате вы можете запрашивать определенные объекты на основе значений их полей, используя специальный запрос с указанием на вложенность. Внутри Elasticsearch, вложенные объекты запрашиваются, как если бы они были проиндексированы в виде отдельных документов.
--- 
> Геоточка - используется для хранения пар широта-долгота и может использоваться для поиска документов в радиусе некоторых координат, сортировки по расстоянию от некоторых координат и т. д. Значения для поля геоточка могут быть добавлены в четыре разных формата.

  Первый — как объект со свойствами широты и долготы:
  ```json
  {
    "location": {
      "lat": 55.755394,
      "lon": 37.635131
    }
  }
  ```
  
  Второй — в виде строки с широтой и долготой, разделенными запятой, и именно в таком порядке:
  ```json
  {
    "location": "55.755394, 37.635131"
  }
  ```
  
  Третий — это геохеш:
  ````json          
  {
    "location": "ac43fgrt4f67"
  } 
  ````
  
  И четвёртый — массив:
  ````json
  {
    "location": [37.635131, 55.755394]
  }
  ````
---
> Геофигура - Поле геофигуры может содержать прямоугольники и многоугольники, поэтому может использоваться для создания сложных фигур. Этот тип данных нужно использовать, когда геоточки недостаточно.
---

> IPv4 - используется для сопоставления адресов IPv4
---

> Автозаполнение - используется для автозаполнения (completion). Это т.н. префиксный подсказчик, полезен для предоставления пользователю подсказок во время поиска.
---

> Количество токенов - целочисленное поле, которое принимает строковые значения.
--- 

> Вложение - тип данных вложения, который позволяет Elasticsearch индексировать вложения для многих распространенных форматов, таких как файлы PDF, электронные таблицы, презентации PowerPoint и многое другое. Вложения хранятся в виде строки в кодировке Base64.


---
# Накат дампа
```bash
curl -XPOST -H 'Content-Type: application/json' "http://localhost:9200/dev/_bulk?pretty" -d'
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Vova", "birthdate":"1999-10-1", "skill":"php", "location":"46.22,-68.45"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Oleg", "birthdate":"1999-11-2", "skill":"php", "location":"45.21,-68.35"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Goga", "birthdate":"1998-10-3", "skill":"php", "location":"45.16,-63.58" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Zhora", "birthdate":"2002-5-20", "skill":"php",  "location":"45.22,-68.53"}
{"index":{"_index":"dev","_type":"athlete"}}
{"name":"Garic", "birthdate":"2002-2-28", "skill":"php", "location":"46.22,-68.85"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Afonya", "birthdate":"2000-9-9", "skill":"php", "location":"45.12,-68.35"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Zhenya", "birthdate":"2000-4-1", "skill":"php", "location":"46.12,-68.55"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Winston", "birthdate":"1998-3-1", "skill":"php", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Alex", "birthdate":"1999-10-1", "skill":"php", "location":"46.22,-68.45"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Biba", "birthdate":"1999-11-2", "skill":"php", "location":"45.21,-68.35"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Boba", "birthdate":"1998-10-3", "skill":"php", "location":"45.16,-63.58" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Huisunwin", "birthdate":"2002-5-20", "skill":"php",  "location":"45.22,-68.53"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Ashot", "birthdate":"2002-2-28", "skill":"php", "location":"46.22,-68.85"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Ibragim", "birthdate":"2000-9-9", "skill":"php", "location":"45.12,-68.35"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Jacki", "birthdate":"2000-4-1", "skill":"php", "location":"46.12,-68.55"}
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Vaas", "birthdate":"1998-3-1", "skill":"php", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Mechenyi", "birthdate":"1998-3-1", "skill":"Go", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Sidorovich", "birthdate":"1998-3-1", "skill":"Go", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Strelok", "birthdate":"1998-3-1", "skill":"Java", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Wombat", "birthdate":"1998-3-1", "skill":"C", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Winki", "birthdate":"1998-3-1", "skill":"Python", "location":"46.25,-68.55" }
{"index":{"_index":"dev","_type":"_doc"}}
{"name":"Lewis", "birthdate":"1998-3-1", "skill":"Python", "location":"46.25,-68.55" }
'
```